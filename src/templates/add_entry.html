{% extends "layout.html" %}

{% block title %}
Add entry
{% endblock %}

{% block body %}

<h2>Add entry</h2>

<body>
    <div>
        {% if error %}
        <div class="alert">{{ error }}</div>
        {% endif %}

        <form action="/create_entry" method="post">
            <input type="hidden" name="type" value="{{ entry_type.name }}">

            <h2>Add {{ entry_type.name.lower().capitalize() }}</h2>

            {% set metadata = entry_type.get_metadata() %}
            {% set all_fields = metadata.required_fields + metadata.optional_fields %}

            {% for field in all_fields %}
                {% set required = field in metadata.required_fields %}

                <div>
                    <label>{{ field.lower().capitalize() }}{{ '*' if required }}:</label>
                    <input
                       type="text"
                       name="{{ field }}"
                       value="{{ form[field] if form else '' }}"
                       {{ "required" if required }}
                    >
                </div>
            {% endfor %}

            <button type="submit">
                Add entry
            </button>
        </form>
    </div>
</body>

{% endblock %}