{% extends "layout.html" %}

{% block title %}
Bibliography App
{% endblock %}

{% block body %}

<h2>Bibliography App</h2>

<div>
  <a href="/new_entry">Add entry</a>
</div>

<!-- Search ominaisuus -->
<div style="margin: 20px 0;">
  <form action="/search" method="get">
    <input
      type="text"
      name="query"
      placeholder="Search entries..."
      value="{{ query | default('') }}"
    >
    <button type="submit">Search</button>
  </form>
</div>

<!-- N채ytt채채채 entryt -->
<div class="entries-container">
  {% for entry in entries_dict %}
  <div class="entry-card">
    {% for key, value in entry.items() %}
      {% if value and key != 'id' %}
        <p><strong>{{ key|capitalize }}:</strong> {{ value }}</p>
      {% endif %}
    {% endfor %}

    <!-- Delete nappi -->
    <form action="/delete_entry/{{ entry.id }}" method="post" style="margin-top: 10px;">
      <button type="submit">Delete</button>
    </form>
  </div>
  {% else %}
    <p>No entries found</p>
  {% endfor %}
</div>

{% endblock %}